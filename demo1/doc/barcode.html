<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="HandheldFriendly" content="true">
<meta name="MobileOptimized" content="320">
<title>Hello H5+</title>
<link rel="stylesheet" type="text/css" href="res/doc.css" charset="utf-8">
<link rel="stylesheet" type="text/css" href="res/prettify.sons.css" charset="utf-8">
<script type="text/javascript" src="res/doc.js" charset="utf-8"></script><script type="text/javascript" src="res/prettify.js" charset="utf-8"></script>
</head>
<body><div id="content" class="content">
<h1><a name="plus.barcode">barcode</a></h1>
<p>Barcode模块管理二维码，提供二维码扫描识别功能，可调用设备的摄像头对二维码图片扫描进行数据输入。通过plus.barcode可获取二维码管理对象。</p>
<h2>常量：</h2>
<ul>
<li>
<a href="#plus.barcode.QR">QR</a>: 二维码类型常量，QR码，数值为0</li>
<li>
<a href="#plus.barcode.EAN13">EAN13</a>: 二维码类型常量，EAN码标准版，数值为1</li>
<li>
<a href="#plus.barcode.EAN8">EAN8</a>: 二维码类型常量，ENA码简版，数值为2</li>
<li>
<a href="#plus.barcode.AZTEC">AZTEC</a>: 二维码类型常量，Aztec码，数值为3</li>
<li>
<a href="#plus.barcode.DATAMATRIX">DATAMATRIX</a>: 二维码类型常量，Data Matrix码，数值为4</li>
<li>
<a href="#plus.barcode.UPCA">UPCA</a>: 二维码类型常量，UPC码标准版，数值为5</li>
<li>
<a href="#plus.barcode.UPCE">UPCE</a>: 二维码类型常量，UPC码缩短版，数值为6</li>
<li>
<a href="#plus.barcode.CODABAR">CODABAR</a>: 二维码类型常量，Codabar码，数值为7</li>
<li>
<a href="#plus.barcode.CODE39">CODE39</a>: 二维码类型常量，Code39码，数值为8</li>
<li>
<a href="#plus.barcode.CODE93">CODE93</a>: 二维码类型常量，Code93码，数值为9</li>
<li>
<a href="#plus.barcode.CODE128">CODE128</a>: 二维码类型常量，Code128码，数值为10</li>
<li>
<a href="#plus.barcode.ITF">ITF</a>: 二维码类型常量，ITF码，数值为11</li>
<li>
<a href="#plus.barcode.MAXICODE">MAXICODE</a>: 二维码类型常量，MaxiCode码，数值为12</li>
<li>
<a href="#plus.barcode.PDF417">PDF417</a>: 二维码类型常量，PDF 417码，数值为13</li>
<li>
<a href="#plus.barcode.RSS14">RSS14</a>: 二维码类型常量，RSS 14码，数值为14</li>
<li>
<a href="#plus.barcode.RSSEXPANDED">RSSEXPANDED</a>: 二维码类型常量，扩展式RSS码，数值为15</li>
</ul>
<h2>方法：</h2>
<ul><li>
<a href="#plus.barcode.scan">scan</a>: 通过图片扫描二维码数据</li></ul>
<h2>对象：</h2>
<ul>
<li>
<a href="#plus.barcode.Barcode">Barcode</a>: 二维码识别控件对象</li>
<li>
<a href="#plus.barcode.BarcodeOption">BarcodeOption</a>: JSON对象，二维码识别控件扫描参数</li>
</ul>
<h2>回调方法：</h2>
<ul>
<li>
<a href="#plus.barcode.BarcodeSuccessCallback">BarcodeSuccessCallback</a>: 二维码识别成功的回调函数</li>
<li>
<a href="#plus.barcode.BarcodeErrorCallback">BarcodeErrorCallback</a>: 二维码识别错误的回调函数</li>
</ul>
<h2>权限：</h2>
<p>permissions</p>
<pre class="prettyprint linenums">
"Barcode": {
	"description": "访问二维码扫描插件"
}
			</pre>
<h1><a name="plus.barcode.Barcode">Barcode</a></h1>
<p>二维码识别控件对象</p>
<pre class="prettyprint linenums">
interface plus.barcode.Barcode {
	// Methods
	function void start( options );
	function void cancel();
	function void setFlash( open );

	// Events
	function void onmarked();
	function void onerror();
}
				</pre>
<h2>说明：</h2>
<p class="des">
Barcode对象表示二维码识别控件对象，用于在窗口中显示二维码识别控件，使用此对象可自定义二维码识别界面。
				</p>
<h2>构造：</h2>
<ul><li>
<a href="#plus.barcode.Barcode.Barcode.constructor(id,filters)">Barcode.constructor(id,filters)</a>: 创建Barcode对象</li></ul>
<h2>方法：</h2>
<ul>
<li>
<a href="#plus.barcode.Barcode.start">start</a>: 开始二维码识别</li>
<li>
<a href="#plus.barcode.Barcode.cancel">cancel</a>: 结束二维码识别</li>
<li>
<a href="#plus.barcode.Barcode.setFlash">setFlash</a>: 是否开启闪光灯</li>
</ul>
<h2>事件：</h2>
<ul>
<li>
<a href="#plus.barcode.Barcode.onmarked">onmarked</a>: 二维码识别成功事件</li>
<li>
<a href="#plus.barcode.Barcode.onerror">onerror</a>: 二维码识别错误事件</li>
</ul>
<h1><a name="plus.barcode.BarcodeOption">BarcodeOption</a></h1>
<p>JSON对象，二维码识别控件扫描参数</p>
<pre class="prettyprint linenums">
interface plus.barcode.BarcodeOption {
	attribute Boolean conserve;
	attribute DOMString filename;
}
				</pre>
<h2>说明：</h2>
<p class="des">
用于设置二维码识别控件扫描二维码的参数，如是否保存扫描成功时的图片等。
				</p>
<h2>属性：</h2>
<ul>
<li>conserve: <em>(<font class="type">Boolean</font>
	类型
)</em>是否保存成功扫描到的二维码数据时的图片<br><p>如果设置为true则在成功扫描到二维码数据时将图片保存，并通过onmarked回调函数的file参数返回保存文件的路径。默认值为false，不保存图片。</p>
</li>
<li>filename: <em>(<font class="type">DOMString</font>
	类型
)</em>保存成功扫描到的二维码数据时的图片路径<br><p>可通过此参数设置保存图片的路径或名，如果设置图片文件名称则必须指定文件的后缀名（必须是.png），否则认为是指定目录，文件名称则自动生成。</p>
</li>
</ul>
<h1><a name="plus.barcode.BarcodeSuccessCallback">BarcodeSuccessCallback</a></h1>
<p>二维码识别成功的回调函数</p>
<pre class="prettyprint linenums">
void BarcodeSuccessCallback ( type, code, file ) {
	// Barcode success code
}
				</pre>
<h2>说明：</h2>
<p class="des">当获取二维码识别成功时的回调函数，用于返回识别成功的数据。</p>
<h2>参数：</h2>
<ul>
<li>type: 
		<em>(
			<font class="type">Number</font>
			)
			必选 </em>识别到的二维码类型<br>Number类型的值，与Barcode对象定义的二维码类型常量一致。</li>
<li>code: 
		<em>(
			<font class="type">DOMString</font>
			)
			必选 </em>识别到的二维码数据<br>从二维码图片中扫描出的数据内容，字符串采用UTF8编码格式。</li>
<li>file: 
		<em>(
			<font class="type">DOMString</font>
			)
			可选 </em>识别到的二维码图片文件路径<br>识别到的二维码数据图片，为png格式文件，为设置为不保存图片，则返回undefined。</li>
</ul>
<h2>返回值：</h2>
<font class="type">void</font>
			: 无<h1><a name="plus.barcode.BarcodeErrorCallback">BarcodeErrorCallback</a></h1>
<p>二维码识别错误的回调函数</p>
<pre class="prettyprint linenums">
void BarcodeErrorCallback( error ) {
	// Handle error
}
				</pre>
<h2>参数：</h2>
<ul><li>error: 
		<em>(
			<font class="type">DOMException</font>
			)
			必选 </em>二维码识别的错误信息<br>
</li></ul>
<h2>返回值：</h2>
<font class="type">void</font>
			: 无<br><br>
</div></body>
</html>
